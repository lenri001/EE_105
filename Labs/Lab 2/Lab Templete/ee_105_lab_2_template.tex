%----------------------------------------------------------------------------------------------------=
%-----------------------------------------------------------------------------------------------------
% Define Document Class, and include/import the multiple libraries used to create this document 
%-----------------------------------------------------------------------------------------------------
\documentclass[12pt]{article}
\usepackage{amsmath}
\usepackage[sc]{mathpazo}
\usepackage{geometry}
\usepackage{datetime}
\usepackage[myheadings]{fullpage}
\usepackage{fancyhdr}
\usepackage{lastpage}
\usepackage{graphicx, wrapfig, subcaption, setspace, booktabs}
\usepackage[T1]{fontenc}
\usepackage[font=small, labelfont=bf]{caption}
\usepackage{fourier}
\usepackage[protrusion=true, expansion=true]{microtype}
\usepackage[english]{babel}
\usepackage{sectsty}
\usepackage{url, lipsum}
\usepackage{hyperref,bookmark}
\usepackage[T1]{fontenc}
\usepackage{amssymb}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{tabularx}
\usepackage{longtable}
\usepackage{setspace}
\usepackage{float}
\usepackage{bigfoot} % to allow verbatim in footnote
\usepackage[framed,numbered,autolinebreaks,useliterate]{matlab-prettifier}
\usepackage{filecontents}
\usepackage[ruled,linesnumbered]{algorithm2e}

%-----------------------------------------------------------------------------------------------------
% Define the heading for this document
%-----------------------------------------------------------------------------------------------------
% Heading style, calling fancy header library
\pagestyle{fancy}
\fancyhf{}
\setlength\headheight{15pt}
%%%% PUT YOUR NAME HERE FOR YOUR HEADING %%%%
\fancyhead[L]{Luis Fernando Enriquez-Contreras}
\fancyhead[R]{EE 105 Lab 2 Solution}
\fancyfoot[R]{Page \thepage\ of \pageref{LastPage}}

%-----------------------------------------------------------------------------------------------------
% Set coding for in LaTeX for Matlab
%-----------------------------------------------------------------------------------------------------
\lstset{
	style              = Matlab-editor,
	basicstyle         = \mlttfamily,
	escapechar         = ",
	mlshowsectionrules = true,
	otherkeywords = {!,!=,~,$,*,\&,\%/\%,\%*\%,\%\%,<-,<<-,_,/},%
}

% The workflow of the document begins here
\begin{document}
	%-------------------------------------------------------------------------------
	% Title
	%-------------------------------------------------------------------------------
	\begin{titlepage}
		
		\newcommand{\HRule}{\rule{\linewidth}{0.5mm}} % Defines a new command for the horizontal lines, change thickness here
		
		\center % Center everything on the page
		
		%---------------------------------------------------------
		%	HEADING SECTIONS
		%---------------------------------------------------------
		
		\textsc{\LARGE University of California, Riverside}\\[1.5cm] % Name of your university/college
		\textsc{\Large Bourns College of Engineering}\\[0.5cm] % Major heading such as course name
		\textsc{\large Department of Electrical and Computer Engineering}\\[0.5cm] % Minor heading such as course title
		
		%---------------------------------------------------------
		%	TITLE SECTION
		%---------------------------------------------------------
		
		\HRule \\[0.6cm]
		{\Large EE 105 Lab 2 Solution \\ \normalsize Euer's}\\[0.4cm] % Title of your document
		\HRule \\[1.0cm]
		
		%---------------------------------------------------------
		%	AUTHOR SECTION
		%---------------------------------------------------------
		
		%\begin{minipage}{0.4\textwidth}
		\begin{center} \large
			% \emph{Authors:}  
			\medskip
			%%% PUT YOUR NAME HERE %%%
			{\textsc{\textbf{Luis Fernando Enriquez-Contreras} }} 
		\end{center}
		%\end{minipage}
		
		
		%---------------------------------------------------------
		%	DATE SECTION
		%---------------------------------------------------------
		\begin{center}
			%			\selectlanguage{USenglish}
			{\large }
		\end{center}
		% Date, change the \today to a set date if you want to be precise
		
		%---------------------------------------------------------
		%	LOGO SECTION
		%---------------------------------------------------------
		%\vfill
		\newcommand*{\plogo}{\includegraphics{Code/Fig/UC_Riverside_seal.pdf}}
		%		\newcommand*{\plogo}{\includegraphics[width=0.25\textwidth]{UC_Riverside_seal.pdf}}
		
		\plogo\\[1cm] % Include a department/university logo - this will require the graphicx package
		
		%---------------------------------------------------------
		
		\vfill % Fill the rest of the page with whitespace
	\end{titlepage}
	
	\newpage
	
	%-------------------------------------------------------------------------------
	% Table of Contents and Figures
	%-------------------------------------------------------------------------------
	%	\doublespacing
	\tableofcontents
	\pagebreak
	\listoffigures
	%	\listoftables
	\lstlistoflistings  
	\pagebreak
	
	%-------------------------------------------------------------------------------
	% BODY
	%-------------------------------------------------------------------------------
	
	\section{Introduction}
	%%% PUT INTRODUCTION HERE %%%
	
	\section{Pre-Lab}
		%%% Insert Figure Here as a .pdf File %%%
		\begin{figure}[H]
			\centering
			\includegraphics[width=1\linewidth]{"prelab.pdf"}
			\caption{prelab}
			\label{fig:prelab}
		\end{figure}
	
	\section{LSIM and gensig}
		%%% INSERT CODE HERE AS A .m FILE %%%
		\lstinputlisting[language=Matlab, caption = {\Large lsim Simulation of the State Space Model with domain of 0-100 seconds}]{code.m}
		%%% INSERT CODE HERE AS A .m FILE %%%
		\lstinputlisting[language=Matlab, caption = {\Large lsim Simulation of the State Space Model with domain of 0-4 seconds}]{code.m}
		
		%%% Insert Figure Here as a .pdf File %%%
		\begin{figure}[H]
			\centering
			\includegraphics[width=1\linewidth]{"plot.pdf"}
			\caption{lsim Simulation of the State Space Model with a domain of 0-100 seconds}
			\label{fig:lsimrun100s}
		\end{figure}
		%%% Insert Figure Here as a .pdf File %%%
		\begin{figure}[H]
			\centering
			\includegraphics[width=1\linewidth]{"plot.pdf"}
			\caption{lsim Simulation of the State Space Model with a domain of 0-4 seconds}
			\label{fig:lsimrun4s}
		\end{figure}

	\section{Varying Step-Size of 1.0 sin(0.1)}
		%%% INSERT CODE HERE AS A .m FILE %%%
		\lstinputlisting[language=Matlab, caption = {\Large Function for the State Space of the representation of the system}]{code.m}
		
		%%% INSERT CODE HERE AS A .m FILE %%%
		\lstinputlisting[language=Matlab, caption = {\Large Function to run Euler recursion}]{code.m}
		
		%%% INSERT CODE HERE AS A .m FILE %%%
		\lstinputlisting[language=Matlab, caption = {\Large Run the Euler function for different step sizes $h$}]{code.m}
		%%% Insert Figure Here as a .pdf File %%%
		\begin{figure}[H]
			\centering
			\includegraphics[width=1\linewidth]{"plot.pdf"}
			\caption{Euler Plot for $h$ = 1}
			\label{fig:eulerploth1}
		\end{figure}	
		%%% Insert Figure Here as a .pdf File %%%
		\begin{figure}[H]
			\centering
			\includegraphics[width=1\linewidth]{"plot.pdf"}
			\caption{Euler Plot for $h$ = 0.1}
			\label{fig:eulerploth01}
		\end{figure}
		%%% Insert Figure Here as a .pdf File %%%
		\begin{figure}[H]
			\centering
			\includegraphics[width=1\linewidth]{"plot.pdf"}
			\caption{Euler Plot for $h$ = 0.05}
			\label{fig:eulerploth005}
		\end{figure}
		
		\begin{figure}[H]
			\centering
			\includegraphics[width=1\linewidth]{"plot.pdf"}
			\caption{Euler Plot for $h$ = 0.01}
			\label{fig:eulerploth001}
		\end{figure}
		%%% Insert Figure Here as a .pdf File %%%
		\begin{figure}[H]
			\centering
			\includegraphics[width=1\linewidth]{"plot.pdf"}
			\caption{Euler Plot for $h$ = 0.001}
			\label{fig:eulerploth0001}
		\end{figure}
	
					
	\section{Varying $\omega$ in 1.0 sin($\omega$t)}
		%%% INSERT CODE HERE AS A .m FILE %%%
		\lstinputlisting[language=Matlab, caption = {\Large Function for the State Space of the representation of the system for ODE23}]{code.m}
		
		%%% INSERT CODE HERE AS A .m FILE %%%
		\lstinputlisting[language=Matlab, caption = {\Large Run ODE23 for sin(0.1t)}]{code.m}
		
		%%% INSERT CODE HERE AS A .m FILE %%%
		\lstinputlisting[language=Matlab, caption = {\Large Run ODE23 for various sin($\omega$t)}]{code.m}	
		%%% Insert Figure Here as a .pdf File %%%
		\begin{figure}[H]
			\centering
			\includegraphics[width=1\linewidth]{plot.pdf}
			\caption{Ode Plot for $\omega$ = 1}
			\label{fig:odesininput1}
		\end{figure}
		%%% Insert Figure Here as a .pdf File %%%
		\begin{figure}[H]
			\centering
			\includegraphics[width=1\linewidth]{plot.pdf}
			\caption{Ode Plot for $\omega$ = 0.09}
			\label{fig:odesininput009}
		\end{figure}
		%%% Insert Figure Here as a .pdf File %%%
		\begin{figure}[H]
			\centering
			\includegraphics[width=1\linewidth]{plot.pdf}
			\caption{Ode Plot for $\omega$ = 0.001}
			\label{fig:odesininput0001}
		\end{figure}		
	\section{Conclusion}
	%%% PUT CONCLUSION HERE %%

\end{document}